## 📌 라즈베리파이5 카메라 설정 및 Tmux 사용법

### 1. 라즈베리파이 OS 업데이트

라즈베리파이 OS는 기본적으로 `libcamera` 라이브러리를 사용하며, 이를 활용하기 위해 시스템을 최신 상태로 유지하는 것이 중요하다. 최신 버전으로 업데이트하려면 다음 명령어를 사용한다:

```bash
sudo apt update && sudo apt upgrade -y
```

이 명령어는 시스템 패키지 목록을 갱신하고, 설치된 모든 패키지를 최신 버전으로 업그레이드한다.

---

### 2. 카메라 인식 확인

연결된 카메라가 정상적으로 인식되는지 확인하기 위해서는 `libcamera-hello` 명령어를 사용하여 확인할 수 있다. 다음 명령어를 입력한다:

```bash
libcamera-hello --list-cameras
```

이 명령어는 현재 라즈베리파이에 연결된 모든 카메라의 목록을 표시한다. 카메라의 모델명, ID, 사용 가능한 해상도 등이 출력되며, 이를 통해 연결된 카메라가 제대로 인식되었는지 확인할 수 있다.

---

### 3. Tmux 설치 및 사용법

`tmux`는 여러 개의 터미널 세션을 하나의 화면에서 관리할 수 있는 도구로, 특히 라즈베리파이에서 여러 개의 카메라 스트리밍을 동시에 모니터링할 때 유용하다.

#### 3-1. Tmux 설치

Tmux는 기본적으로 라즈베리파이 OS에 포함되어 있지 않으므로, 아래 명령어로 설치한다:

```bash
sudo apt update && sudo apt install tmux -y
```

#### 3-2. Tmux 세션 시작 및 터미널 분할

Tmux를 실행하려면 다음 명령어를 입력한다:
```bash
tmux
```

이제 단일 터미널에서 여러 개의 창을 사용할 수 있다.

- **가로 분할:** `Ctrl + B`를 누른 후 `%` 입력
- **세로 분할:** `Ctrl + B`를 누른 후 `"` 입력

#### 3-3. 창 이동 및 관리

- 창 이동: `Ctrl + B`를 누른 후 `←`, `→`, `↑`, `↓` 키로 이동
- 창 닫기: `exit` 입력 후 Enter 또는 `Ctrl + B`, 그다음 `X`를 누르고 `Y`로 확인

#### 3-4. Tmux 세션 종료

Tmux 세션을 종료하려면 다음 중 하나를 사용한다:
- 모든 창에서 `exit` 입력 후 Enter
- `Ctrl + B` 누른 후 `:kill-session` 입력

---

### 4. Libcamera를 사용한 실시간 영상 출력

라즈베리파이에서 카메라의 실시간 영상을 출력하기 위해 `libcamera` 라이브러리를 사용한다. Tmux를 이용하면 동시에 여러 카메라를 모니터링할 수 있다.

#### 4-1. 첫 번째 카메라(CAM0) 실시간 영상 출력

```bash
libcamera-hello --camera 0 -t 0
```

위 명령어를 실행하면 CAM0에서 실시간 영상이 출력된다. `-t 0` 옵션은 무제한으로 스트리밍을 지속한다는 의미이다.

#### 4-2. 두 번째 카메라(CAM1) 실시간 영상 출력

```bash
libcamera-hello --camera 1 -t 0
```

두 번째 터미널 또는 tmux 창을 열어 위 명령어를 실행하면 CAM1의 실시간 영상을 확인할 수 있다.

---

### 5. 파일 위치 및 저장 경로

이 문서는 프로젝트 폴더의 `docs/` 디렉토리에 저장한다. 프로젝트의 문서 관리 및 참조를 위해 일관된 위치에 저장하는 것이 좋다.

경로: `Wearable_Device_Project/docs/raspberry_pi_camera_tmux.md`

---

### 💡 참고 사항
- 이 문서는 라즈베리파이에서 `libcamera` 라이브러리를 이용한 카메라 출력 테스트와 `tmux`를 이용한 다중 세션 관리 방법을 설명한다.
- 프로젝트 환경 설정 시 문제가 발생하면, 설정 파일(`/boot/firmware/config.txt`)을 확인하고 칩셋 정보가 올바르게 입력되었는지 확인한다.

